<div class="top-header">
  <div class="top-header__container">
    <div class="top-header__content">
      <!-- Contact Info -->
      <div class="top-header__contact">
        <div class="top-header__contact-item">
          {{ ux_icon('heroicons:phone', {'class': 'top-header__contact-icon'}) }}
          <span class="top-header__contact-text">{{ t('contact.phone_number') }}</span>
        </div>
        <div class="top-header__contact-item top-header__contact-item--desktop">
          {{ ux_icon('heroicons:envelope', {'class': 'top-header__contact-icon'}) }}
          <span class="top-header__contact-text">{{ t('contact.email_address') }}</span>
        </div>
        <div class="top-header__contact-item top-header__contact-item--desktop">
          {{ ux_icon('heroicons:clock', {'class': 'top-header__contact-icon'}) }}
          <span class="top-header__contact-text">{{ t('contact.business_hours') }}</span>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="top-header__links">
      
        
        <a href="#" class="top-header__link top-header__link--desktop">
          {{ ux_icon('heroicons:question-mark-circle', {'class': 'top-header__link-icon'}) }}
          <span class="top-header__link-text">{{ t('nav.help') }}</span>
        </a>
        {% if app.user %}
          <div class="top-header__dropdown" data-controller="dropdown">
            <button class="top-header__link top-header__link--login top-header__dropdown-toggle" data-action="click->dropdown#toggle">
              {{ ux_icon('heroicons:user-circle', {'class': 'top-header__link-icon'}) }}
              <span class="top-header__link-text">{{ app.user.firstName }}</span>
              {{ ux_icon('heroicons:chevron-down', {'class': 'top-header__dropdown-icon'}) }}
            </button>
            <div class="top-header__dropdown-menu" data-dropdown-target="menu"  style="z-index: 9999;">
              <a href="{{ path('profile_index') }}" class="top-header__dropdown-link">
                {{ ux_icon('heroicons:user', {'class': 'top-header__dropdown-link-icon'}) }}
                <span class="top-header__dropdown-link-text">{{ t('user_menu.access_profile') }}</span>
              </a>
              
              {% set kyc_status = app.user.kycSubmission ? app.user.kycSubmission.status : 'not_submitted' %}
              {% if kyc_status != 'approved' %}
                <a href="{{ path('kyc_index') }}" class="top-header__dropdown-link">
                  {{ ux_icon('heroicons:shield-check', {'class': 'top-header__dropdown-link-icon'}) }}
                  <span class="top-header__dropdown-link-text">
                    {{ t('user_menu.identity_verification') }}
                    {% if kyc_status == 'pending' %}
                      <span class="badge badge-warning ms-1">{{ t('kyc_status.pending') }}</span>
                    {% elseif kyc_status == 'rejected' %}
                      <span class="badge badge-danger ms-1">{{ t('kyc_status.rejected') }}</span>
                    {% else %}
                      <span class="badge badge-secondary ms-1">{{ t('kyc_status.required') }}</span>
                    {% endif %}
                  </span>
                </a>
              {% endif %}
              
              <a href="{{ path('banking_dashboard') }}" class="top-header__dropdown-link">
                {{ ux_icon('heroicons:building-library', {'class': 'top-header__dropdown-link-icon'}) }}
                <span class="top-header__dropdown-link-text">{{ t('user_menu.access_banking') }}</span>
              </a>
              {% if is_granted('ROLE_ADMIN') %}
                <a href="{{ path('app_admin_dashboard') }}" class="top-header__dropdown-link top-header__dropdown-link--admin">
                  {{ ux_icon('heroicons:cog-6-tooth', {'class': 'top-header__dropdown-link-icon'}) }}
                  <span class="top-header__dropdown-link-text">{{ t('user_menu.administration') }}</span>
                </a>
              {% endif %}
              <div class="top-header__dropdown-divider"></div>
              <a href="{{ path('app_logout') }}" class="top-header__dropdown-link top-header__dropdown-link--danger">
                {{ ux_icon('heroicons:arrow-left-on-rectangle', {'class': 'top-header__dropdown-link-icon'}) }}
                <span class="top-header__dropdown-link-text">{{ t('user_menu.logout') }}</span>
              </a>
            </div>
          </div>
        {% else %}
          <a href="{{ path('app_login') }}" class="top-header__link top-header__link--login">
            {{ ux_icon('heroicons:arrow-right-on-rectangle', {'class': 'top-header__link-icon'}) }}
            <span class="top-header__link-text">{{ t('nav.login') }}</span>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<style>
/* Top Header Block - BEM Methodology */
.top-header {
  background: linear-gradient(135deg, var(--color-primary) 0%, #3b82f6 100%);
  color: white;
  font-size: 0.875rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
  z-index: 9999;
}

.top-header__container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.top-header__content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 44px;
  gap: 1rem;
}

/* Contact Section */
.top-header__contact {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  flex: 1;
}

.top-header__contact-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: rgba(255, 255, 255, 0.9);
  transition: color 0.2s ease;
}

.top-header__contact-item:hover {
  color: white;
}

.top-header__contact-item--desktop {
  display: flex;
}

.top-header__contact-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.top-header__contact-text {
  font-size: 0.8125rem;
  font-weight: 500;
}

/* Quick Links Section */
.top-header__links {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.top-header__link {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  color: rgba(255, 255, 255, 0.9);
  text-decoration: none;
  padding: 0.375rem 0.75rem;
  border-radius: 0.375rem;
  transition: all 0.2s ease;
  font-size: 0.8125rem;
  font-weight: 500;
}

.top-header__link:hover {
  color: white;
  background: rgba(255, 255, 255, 0.1);
  transform: translateY(-1px);
}

.top-header__link--desktop {
  display: flex;
}

.top-header__link--login {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.top-header__link--login:hover {
  background: rgba(255, 255, 255, 0.25);
  border-color: rgba(255, 255, 255, 0.3);
}

.top-header__link-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.top-header__link-text {
  /* Text styling is inherited from parent */
}

/* Dropdown Styles */
.top-header__dropdown {
  position: relative;
}

.top-header__dropdown-toggle {
  cursor: pointer;
  border: none;
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.top-header__dropdown-toggle:hover {
  background: rgba(255, 255, 255, 0.25);
  border-color: rgba(255, 255, 255, 0.3);
}

.top-header__dropdown-icon {
  width: 14px;
  height: 14px;
  transition: transform 0.2s ease;
}

.top-header__dropdown[data-dropdown-open] .top-header__dropdown-icon {
  transform: rotate(180deg);
}

.top-header__dropdown-menu {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 0.5rem;
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  border: 1px solid #e5e7eb;
  min-width: 200px;
  padding: 0.5rem 0;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;
  z-index: 100;
}

.top-header__dropdown[data-dropdown-open] .top-header__dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.top-header__dropdown-link {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  color: #374151;
  text-decoration: none;
  font-size: 0.875rem;
  font-weight: 500;
  transition: all 0.2s ease;
}

.top-header__dropdown-link:hover {
  background: #f3f4f6;
  color: #1f2937;
}

.top-header__dropdown-link--danger {
  color: #dc2626;
}

.top-header__dropdown-link--danger:hover {
  background: #fef2f2;
  color: #b91c1c;
}

.top-header__dropdown-link-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.top-header__dropdown-link-text {
  font-size: 0.875rem;
}

.top-header__dropdown-divider {
  height: 1px;
  background: #e5e7eb;
  margin: 0.5rem 0;
}

/* Responsive Design with BEM Modifiers */
@media (max-width: 768px) {
  .top-header__content {
    flex-wrap: wrap;
    min-height: auto;
    padding: 0.5rem 0;
  }
  
  .top-header__contact {
    order: 1;
    flex: 1 1 100%;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
  }
  
  .top-header__contact-item--desktop {
    display: none;
  }
  
  .top-header__links {
    order: 2;
    flex: 1;
    justify-content: center;
    gap: 0.5rem;
  }
  
  .top-header__link--desktop {
    display: none;
  }
  
  .top-header__link {
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
  }
  
  .top-header__link-text {
    display: none;
  }
  
  .top-header__link--login .top-header__link-text {
    display: inline;
  }
  
  .top-header__dropdown-toggle .top-header__link-text {
    display: inline;
  }
  
  .top-header__dropdown-menu {
    right: -1rem;
    min-width: 180px;
  }
}

@media (max-width: 480px) {
  .top-header__contact {
    gap: 0.75rem;
  }
  
  .top-header__contact-text {
    font-size: 0.75rem;
  }
  
  .top-header__links {
    gap: 0.25rem;
  }
  
  .top-header__dropdown-menu {
    right: -0.5rem;
    min-width: 160px;
  }
  
  .top-header__dropdown-link {
    padding: 0.625rem 0.75rem;
    font-size: 0.8125rem;
  }
}
</style>
