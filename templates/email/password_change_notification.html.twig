{% extends 'email/base_email.html.twig' %}

{% block title %}{{ tp('email_password_change_notification.title', {}, 'email_password_change_notification') }}{% endblock %}

{% block content %}
    <h2 class="content-title">{{ tp('email_password_change_notification.content.page_title', {}, 'email_password_change_notification') }}</h2>
    
    <p class="content-text">
        {{ tp('email_password_change_notification.content.greeting', {'firstName': firstName}, 'email_password_change_notification') }}
    </p>

    <div class="success-box">
        <h3 style="margin-top: 0; color: #4caf50;">{{ tp('email_password_change_notification.content.success.title', {}, 'email_password_change_notification') }}</h3>
        <p style="margin-bottom: 0;">
            {{ tp('email_password_change_notification.content.success.description', {'changeDate': changeDate|date('d/m/Y à H:i')}, 'email_password_change_notification') }}
        </p>
    </div>

    <p class="content-text">
        {{ tp('email_password_change_notification.content.confirmation', {}, 'email_password_change_notification') }}
    </p>

    <div class="info-box">
        <h3 style="margin-top: 0; color: #1976d2;">{{ tp('email_password_change_notification.content.security_info.title', {}, 'email_password_change_notification') }}</h3>
        <table style="width: 100%; border-spacing: 0;">
            <tr>
                <td style="padding: 8px 0; color: #666; width: 40%;">{{ tp('email_password_change_notification.content.security_info.date_time', {}, 'email_password_change_notification') }}</td>
                <td style="padding: 8px 0; font-weight: 500;">{{ changeDate|date('d/m/Y à H:i:s') }}</td>
            </tr>
            <tr>
                <td style="padding: 8px 0; color: #666;">{{ tp('email_password_change_notification.content.security_info.ip_address', {}, 'email_password_change_notification') }}</td>
                <td style="padding: 8px 0; font-weight: 500;">{{ ipAddress }}</td>
            </tr>
            {% if userAgent != 'Unknown' %}
                <tr>
                    <td style="padding: 8px 0; color: #666;">{{ tp('email_password_change_notification.content.security_info.browser', {}, 'email_password_change_notification') }}</td>
                    <td style="padding: 8px 0; font-weight: 500;">{{ userAgent|slice(0, 50) }}{% if userAgent|length > 50 %}...{% endif %}</td>
                </tr>
            {% endif %}
        </table>
    </div>

    <div class="error-box">
        <h3 style="margin-top: 0; color: #f44336;">{{ tp('email_password_change_notification.content.security_alert.title', {}, 'email_password_change_notification') }}</h3>
        <p style="margin-bottom: 0;">
            {{ tp('email_password_change_notification.content.security_alert.description', {}, 'email_password_change_notification') }}
        </p>
    </div>

    <div class="info-box">
        <h3 style="margin-top: 0; color: #1976d2;">{{ tp('email_password_change_notification.content.recommendations.title', {}, 'email_password_change_notification') }}</h3>
        <ul style="margin-bottom: 0; padding-left: 20px;">
            <li>{{ tp('email_password_change_notification.content.recommendations.item_1', {}, 'email_password_change_notification') }}</li>
            <li>{{ tp('email_password_change_notification.content.recommendations.item_2', {}, 'email_password_change_notification') }}</li>
            <li>{{ tp('email_password_change_notification.content.recommendations.item_3', {}, 'email_password_change_notification') }}</li>
            <li>{{ tp('email_password_change_notification.content.recommendations.item_4', {}, 'email_password_change_notification') }}</li>
        </ul>
    </div>

    <p class="content-text" style="margin-bottom: 0;">
        {{ tp('email_password_change_notification.content.footer', {}, 'email_password_change_notification') }}
    </p>
{% endblock %}
